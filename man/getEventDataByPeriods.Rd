% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/getEventDataByPeriods.R
\name{getEventDataByPeriods}
\alias{getEventDataByPeriods}
\title{Extract Event Data by Time Periods}
\usage{
getEventDataByPeriods(
  event.df,
  ctry.id,
  period.start.dates,
  period.end.dates = NULL,
  period.unit = "month",
  period.labels = NULL,
  ctry.id.col = "country",
  event.date.col = "event_date",
  use.ctry.regex = FALSE
)
}
\arguments{
\item{event.df}{Data frame containing event data}

\item{ctry.id}{Character string specifying the country identifier}

\item{period.start.dates}{Vector of start dates for periods (Date objects
or character strings)}

\item{period.end.dates}{Vector of end dates for periods (optional). If not
provided, will calculate end dates using period.unit}

\item{period.unit}{Character string specifying period length when end dates
not provided: "week", "month", "quarter", or "year" (default: "month")}

\item{period.labels}{Character vector of labels for periods (optional). If
not provided, will generate labels as "{{start.date}} - {{end.date}}"}

\item{ctry.id.col}{Character string specifying the column name for country
identifiers (default: "country")}

\item{event.date.col}{Character string specifying the column name for event
dates (default: "event_date")}

\item{use.ctry.regex}{Logical indicating whether to use regex matching for
country names (default: FALSE)}
}
\value{
List containing:
  \itemize{
    \item \code{period.data} - Named list of data.frames, one for each period
    \item \code{period.metadata} - Named list of metadata for each period containing:
      \itemize{
        \item \code{period.start} - Start date of period
        \item \code{period.end} - End date of period
        \item \code{period.label} - Human-readable period label
        \item \code{event.count} - Number of events in period
        \item \code{period.unit} - Unit used for this period (if applicable)
      }
    \item \code{country} - Country identifier used
    \item \code{total.events} - Total number of events across all periods
  }
}
\description{
This function subsets event data into specified time periods using explicit
start dates and either calculated or user-defined end dates. Returns both
the data subsets and corresponding metadata.
}
\examples{
\dontrun{
# Example 1: Monthly periods using period.unit
start_dates <- c("2024-01-01", "2024-03-01", "2024-06-01")
result <- getEventDataByPeriods(
  event.df = acled_data,
  ctry.id = "Nigeria",
  period.start.dates = start_dates,
  period.unit = "month"
)

# Example 2: Custom periods with explicit end dates
start_dates <- c("2007-06-01", "2011-02-01", "2015-01-01")
end_dates <- c("2008-12-31", "2012-06-30", "2016-03-31")
labels <- c("2007 Election Cycle", "2011 Election Cycle", "2015 Election Cycle")

result <- getEventDataByPeriods(
  event.df = acled_data,
  ctry.id = "Nigeria",
  period.start.dates = start_dates,
  period.end.dates = end_dates,
  period.labels = labels
)

# Example 3: Quarterly periods
start_dates <- as.Date(c("2024-01-01", "2024-04-01", "2024-07-01"))
result <- getEventDataByPeriods(
  event.df = acled_data,
  ctry.id = "Nigeria",
  period.start.dates = start_dates,
  period.unit = "quarter"
)

# Access results
first_period_data <- result$period.data[[1]]
first_period_info <- result$period.metadata[[1]]
}

}
